{"version":3,"file":"signin-ce64d15d.js","sources":["../../../../pages/signin.vue"],"sourcesContent":["<template>\n    <div id=\"pageSignin\" tabindex=\"-1\">\n      <Form @submit=\"handleLogin\" :validation-schema=\"schema\" v-slot=\"{ errors }\">\n        <div class=\"modal-dialog modal-dialog-centered\">      \n          <div class=\"modal-content\">\n            <button type=\"button\" class=\"toggleBtnDark ms-auto mt-2 me-2\" data-bs-dismiss=\"modal\" aria-label=\"Close\"><IconsXMark /></button>\n            \n            <div class=\"modalContainer\">\n              <div class=\"modalTitleContainer\">\n                <h3 class=\"modalTitle\" id=\"modalSigninLabel\">Sign In</h3>\n              </div>\n              <div class=\"msgError\">{{ message }}</div>\n              <label for=\"modalSigninForm-username\">Enter your email</label>\n              <Field name=\"email\" type=\"email\" id=\"modalSigninForm-username\" :class=\"{ 'is-invalid': errors.email }\" class=\"form-control form-control-sm rounded\" placeholder=\"email\" />\n              <div class=\"msgError\">{{errors.email}}</div>\n              <label for=\"modalSigninForm-password\">Enter your password</label>\n              <Field name=\"password\" type=\"password\" id=\"modalSigninForm-password\" :class=\"{ 'is-invalid': errors.email }\" class=\"form-control form-control-sm rounded\" placeholder=\"password\" />\n              <div class=\"msgError\">{{errors.password}}</div>\n              <div class=\"d-flex\">\n                <a href=\"#\" data-bs-target=\"#modalForgot\" data-bs-toggle=\"modal\" class=\"ms-auto my-1\">Forgot Password?</a>\n              </div>\n      \n              <div class=\"d-grid\">\n                <button type=\"submit\" class=\"btn btn-success btn-sm mt-2 mb-2 rounded\">Sign In </button>\n              </div>\n      \n              <a href=\"#modalSignup\" data-bs-target=\"#modalSignup\" data-bs-toggle=\"modal\">Not yet a member? Sign up</a>\n              <div class=\"my-3\"><strong>or</strong></div>\n              \n              <div class=\"d-grid\">\n                <button type=\"button\" class=\"socialBtn\"><div><img src=\"/images/facebook-logo.png\" width=\"30\" height=\"30\" class=\"me-3\">Continue with Facebook</div></button>\n                <button type=\"button\" class=\"socialBtn\"><div><img src=\"/images/google-logo.png\" width=\"27\" height=\"27\" class=\"me-3\">Continue with Google</div></button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  </template>\n  \n  <script setup>\n  //import { Modal } from 'bootstrap'\n  import { Form, Field } from 'vee-validate';\n  import * as Yup from 'yup';\n  \n  const { $bootstrap } = useNuxtApp()\n  const auth = useAuthStore();\n  const message = ref(\"\");\n  \n  const schema = Yup.object().shape({\n      email: Yup.string()\n          .required('Email is required')\n          .email('Email is invalid'),\n      password: Yup.string()\n          .min(8, 'Password must be at least 8 characters')\n          .required('Password is required'),\n  });\n  const signinModal = ref(null);\n  \n  //$bootstrap.Modal = Modal;\n  onMounted(() => {\n    signinModal.value = new $bootstrap.Modal('#modalSignin');\n  });\n  \n  \n  \n  const handleLogin = async (values) => {\n  //async function handleLogin() {\n  \n  \n    if (auth.isLoggedIn) {\n      return navigateTo(\"/\");\n    }\n  \n    const { data, error } = await auth.signin(values);\n    \n    if (!error.value) {\n      console.log('login successful')\n      signinModal.hide();\n      navigateTo(\"/\");\n    } else {\n      message.value = error.value.data.message;\n    }\n  }\n  </script>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CE,UAAM,OAAO;AACb,UAAM,UAAU,IAAI,EAAE;AAEtB,UAAM,SAAS,IAAI,OAAM,EAAG,MAAM;AAAA,MAC9B,OAAO,IAAI,OAAQ,EACd,SAAS,mBAAmB,EAC5B,MAAM,kBAAkB;AAAA,MAC7B,UAAU,IAAI,OAAQ,EACjB,IAAI,GAAG,wCAAwC,EAC/C,SAAS,sBAAsB;AAAA,IAC1C,CAAG;AACD,UAAM,cAAc,IAAI,IAAI;AAS5B,UAAM,cAAc,OAAO,WAAW;AAIpC,UAAI,KAAK,YAAY;AACnB,eAAO,WAAW,GAAG;AAAA,MACtB;AAED,YAAM,EAAE,MAAM,MAAO,IAAG,MAAM,KAAK,OAAO,MAAM;AAEhD,UAAI,CAAC,MAAM,OAAO;AAChB,gBAAQ,IAAI,kBAAkB;AAC9B,oBAAY,KAAI;AAChB,mBAAW,GAAG;AAAA,MACpB,OAAW;AACL,gBAAQ,QAAQ,MAAM,MAAM,KAAK;AAAA,MAClC;AAAA,IACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}