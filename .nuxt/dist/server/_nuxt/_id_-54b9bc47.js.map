{"version":3,"file":"_id_-54b9bc47.js","sources":["../../../../components/Facility/RateAvailability.vue","../../../../components/Facility/ImageCarousel.vue","../../../../composables/useFacilityCapacity.js","../../../../components/Facility/Details.vue","../../../../composables/useTimeSelection.js","../../../../components/Facility/Booking/TimeSelector.vue","../../../../components/Facility/Booking/FirstSelectedDates.vue","../../../../components/Facility/Booking/SelectedDates.vue","../../../../pages/spaces/space/[id].vue"],"sourcesContent":["<template>\n    <div class=\"col-md-5 col-lg-4 p-0\" id=\"spaceHeaderRightCol\">\n        <div class=\"stripedTable\">\n            <div class=\"row1 label\">U.P. Rate: </div>\n            <div class=\"row1 value\">\n                <div class=\"spacesTitleRatesText\">\n                    ₱{{ currency.format(rate.up_rate) + ' per ' + rate.type }}<small v-show=\"rate.with_aircon\"> (with\n                        aircon)</small><small v-show=\"!rate.with_aircon\"> (w/o aircon)</small>\n                </div>\n            </div>\n            <div class=\"row2 label\">Non-U.P. Rate: </div>\n            <div class=\"row2 value\">\n                <div class=\"spacesTitleRatesText\">\n                    ₱{{ currency.format(rate.nonup_rate) + ' per ' + rate.type }}<small v-show=\"rate.with_aircon\"> (with\n                        aircon)</small><small v-show=\"!rate.with_aircon\"> (w/o aircon)</small>\n                </div>\n            </div>\n            <div class=\"row1 label\">Availability:</div>\n            <div class=\"row1 value\">{{ facility.available_days_grp + ', ' + facility.available_hrs }}</div>\n        </div>\n    </div>\n</template>\n\n<script setup>\nconst facilityStore = useFacilityStore();\nconst currency = new Intl.NumberFormat('en-US');\n\nconst facility = facilityStore.facility;\nconst rate = facilityStore.rate;\n\n</script>","<template>\n    <div id=\"carouselExample\" class=\"carousel slide\">\n        <div class=\"carousel-inner\">\n            <div v-for=\"(image, index) in images\"\n                    :key=\"index\" :class=\"(index == 0)?'active':''\" class=\"carousel-item\">\n                <div id=\"spaceImgContainer\">\n                    <img :src=\"image\" />\n                </div>\n            </div>\n        </div>\n        <button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExample\" data-bs-slide=\"prev\">\n            <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n            <span class=\"visually-hidden\">Previous</span>\n        </button>\n        <button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExample\" data-bs-slide=\"next\">\n            <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n            <span class=\"visually-hidden\">Next</span>\n        </button>\n    </div>\n</template>\n\n<script setup>\nconst facilityStore = useFacilityStore();\nconst images = useFetchImages('facility', facilityStore.facility.id, facilityStore.facility.facility_type_id);\n</script>","export default function useFacilityCapacity(min, max) {\n    if (max == null) return '> ' + min + ' pax';\n    else if (min == null) return '< ' + max + ' pax';\n    else return min + ' - ' + max + ' pax';\n}","<template>\n    <div id=\"spaceDetails\">\n        <div class=\"spacesTileTable\">\n            <div class=\"row2 label\">Address:</div>\n            <div class=\"row2\">{{ facility.address }}</div>\n            <div class=\"row1 label\">Capacity:</div>\n            <div class=\"row1\">{{ useFacilityCapacity(facility.min_capacity, facility.max_capacity) }}</div>\n            <div class=\"row2 label\">Availability:</div>\n            <div class=\"row2\">{{ facility.available_days_grp + ', ' + facility.available_hrs }}</div>\n            <div class=\"row1 label\">U.P. Rate:</div>\n            <div class=\"row1\">\n                <span v-for=\"rate in rates\">\n                    <div>\n                    ₱{{ currency.format(rate.up_rate) + ' per ' + rate.type }}<small v-show=\"rate.with_aircon\"> (with aircon)</small><small v-show=\"!rate.with_aircon\"> (w/o aircon)</small>\n                    </div>\n                </span>\n            </div>\n            <div class=\"row2 label\">Non-U.P. Rate:</div>\n            <div class=\"row2\">\n                <span v-for=\"rate in rates\">\n                    <div>\n                    ₱{{ currency.format(rate.nonup_rate) + ' per ' + rate.type }}<small v-show=\"rate.with_aircon\"> (with aircon)</small><small v-show=\"!rate.with_aircon\"> (w/o aircon)</small>\n                    </div>\n                </span>\n            </div>\n        </div>\n        <p>{{ facility.description }}</p>\n    </div>\n</template>\n\n<script setup>\nconst facilityStore = useFacilityStore();\nconst facility = facilityStore.facility;\nconst currency = new Intl.NumberFormat('en-US');\n\nconst rates = facilityStore.rates;\n\n</script>","export default function useTimeSelection(time) {\n    const times = [];\n    const arr = time.split('-');\n\n    if (arr.length != 2) return times;\n\n    const start = arr[0].trim();\n    const end = arr[1].trim();\n\n\n    let start_hr = start.split(':')[0];\n    let start_min = start.split(':')[1].replace('AM', '').replace('PM', '');\n    if (start.toLowerCase().includes('pm'))\n        start_hr = 12 + Number(start_hr);\n\n    let end_hr = end.split(':')[0];\n    let end_min = end.split(':')[1].replace('AM', '').replace('PM', '');\n    if (end.toLowerCase().includes('pm'))\n        end_hr = 12 + Number(end_hr);\n            \n    if (start_hr > end_hr) return times;\n\n    for (let i = start_hr; i < end_hr; i++) {\n        let curr_shr = (i == 12) ? '12:00PM' : (i > 12) ? i-12 +':'+ start_min+'PM' : i+':'+start_min+'AM';\n        let j = Number(i)+1;\n        let curr_ehr = (j == 12) ? '12:00PM' : (j > 12) ? j-12 +':'+ end_min+'PM' : (Number(i)+1)+':'+end_min+'AM';\n        let curr_time = curr_shr + ' - ' + curr_ehr;\n        times.push(curr_time);\n    }\n\n    return times;\n}","<template>\n    <div class=\"calContainer\" id=\"timeslots\" data-status=\"hide\">\n      <div class=\"calHead\" id=\"timeslotsHead\">\n        <div id=\"timeslotsDate\">\n          <div id=\"timeslotsMonth\">mmm</div>\n          <div id=\"timeslotsDay\">dd</div>\n          <div id=\"timeslotsYear\">yyy</div>\n        </div>\n        <h3 class=\"calTitle\" id=\"timeslotsTitle\">Available Timeslots</h3>\n        <button type=\"button\" id=\"closeTimeslotsBtn\" class=\"closeCalContainerBtn\"><i\n            class=\"fa-solid fa-xmark\"></i></button>\n      </div>\n      <div class=\"calMsgContainer\">\n        <div class=\"calMsg\" id=\"timeslotsMsg\">Click on the time to select.</div>\n      </div>\n      <div class=\"calListClip\">\n        <div id=\"timeslotsList\">\n          <form id=\"selectTimeList\">\n            <div v-for=\"(time, index) in times\" :key=\"index\" class=\"selectTimeItem\">\n              <input type=\"checkbox\" :id=\"'selectTime-time'+index\" :value=\"time\">\n              <label for=\"selectTime-time1\">\n                {{ time }}\n              </label>\n              <span class=\"selectTimeItemCheck\"><i class=\"fa-solid fa-check\"></i></span>\n            </div>\n          </form>\n        </div>\n      </div>\n      <div class=\"calFoot\">\n        <button type=\"submit\" id=\"continueBookingBtn\" class=\"calBtn\">Continue Booking</button>\n      </div>\n    </div>\n</template>\n\n<script setup>\nconst route = useRoute();\nconst facilityStore = useFacilityStore();\n\nconst times = useTimeSelection(facilityStore.facility.available_hrs);\n</script>","<template>\n    <div class=\"calContainer border\" id=\"bookings\" data-status=\"hide\">\n      <div class=\"calHead\" id=\"bookingsHead\">\n        <h3 class=\"calTitle\" id=\"bookingsTitle\">Bookings</h3>\n        <button type=\"button\" id=\"closeBookingsBtn\" class=\"closeCalContainerBtn\"><i\n            class=\"fa-solid fa-xmark\"></i></button>\n      </div>\n      <div class=\"calMsgContainer\">\n        <div class=\"calMsg\">You selected <span class=\"calBadge\">4</span> dates.</div>\n      </div>\n      <div class=\"calListClip\">\n        <div id=\"bookingsList\">\n          <div>\n            <div class=\"bookingsGrid\">\n              <div class=\"bookingsLabel\">Place: </div>\n              <div class=\"bookingsPlace\">NCAS Auditorium</div>\n              <div class=\"bookingsLabel\">Date: </div>\n              <div class=\"bookingsDate\">Aug-7-2023 </div>\n              <div class=\"bookingsLabel\">Time: </div>\n              <div class=\"bookingsTime\">7:00AM - 12:00PM</div>\n            </div>\n            <div class=\"bookingsEditDel\">\n              <button type=\"button\" class=\"bookingsEditDelBtn bookingsEditBtn\"><i\n                  class=\"fa-solid fa-pen-to-square\"></i><span class=\"tooltip\" id=\"editBookingTooltip\">Edit</span></button>\n              <button type=\"button\" class=\"bookingsEditDelBtn bookingsDelBtn\"><i\n                  class=\"fa-solid fa-rectangle-xmark\"></i><span class=\"tooltip\"\n                  id=\"delBookingTooltip\">Delete</span></button>\n            </div>\n          </div>\n          <div>\n            <div class=\"bookingsGrid\">\n              <div class=\"bookingsLabel\">Place: </div>\n              <div class=\"bookingsPlace\">NCAS Auditorium</div>\n              <div class=\"bookingsLabel\">Date: </div>\n              <div class=\"bookingsDate\">Aug-8-2023 </div>\n              <div class=\"bookingsLabel\">Time: </div>\n              <div class=\"bookingsTime\">7:00AM - 12:00PM</div>\n            </div>\n            <div class=\"bookingsEditDel\">\n              <button type=\"button\" class=\"bookingsEditDelBtn bookingsEditBtn\"><i\n                  class=\"fa-solid fa-pen-to-square\"></i><span class=\"tooltip\" id=\"editBookingTooltip\">Edit</span></button>\n              <button type=\"button\" class=\"bookingsEditDelBtn bookingsDelBtn\"><i\n                  class=\"fa-solid fa-rectangle-xmark\"></i><span class=\"tooltip\"\n                  id=\"delBookingTooltip\">Delete</span></button>\n            </div>\n          </div>\n          <div>\n            <div class=\"bookingsGrid\">\n              <div class=\"bookingsLabel\">Place: </div>\n              <div class=\"bookingsPlace\">NCAS Auditorium</div>\n              <div class=\"bookingsLabel\">Date: </div>\n              <div class=\"bookingsDate\">Aug-9-2023 </div>\n              <div class=\"bookingsLabel\">Time: </div>\n              <div class=\"bookingsTime\">7:00AM - 12:00PM</div>\n            </div>\n            <div class=\"bookingsEditDel\">\n              <button type=\"button\" class=\"bookingsEditDelBtn bookingsEditBtn\"><i\n                  class=\"fa-solid fa-pen-to-square\"></i><span class=\"tooltip\" id=\"editBookingTooltip\">Edit</span></button>\n              <button type=\"button\" class=\"bookingsEditDelBtn bookingsDelBtn\"><i\n                  class=\"fa-solid fa-rectangle-xmark\"></i><span class=\"tooltip\"\n                  id=\"delBookingTooltip\">Delete</span></button>\n            </div>\n          </div>\n          <div>\n            <div class=\"bookingsGrid\">\n              <div class=\"bookingsLabel\">Place: </div>\n              <div class=\"bookingsPlace\">NCAS Auditorium</div>\n              <div class=\"bookingsLabel\">Date: </div>\n              <div class=\"bookingsDate\">Aug-10-2023 </div>\n              <div class=\"bookingsLabel\">Time: </div>\n              <div class=\"bookingsTime\">7:00AM - 12:00PM</div>\n            </div>\n            <div class=\"bookingsEditDel\">\n              <button type=\"button\" class=\"bookingsEditDelBtn bookingsEditBtn\"><i\n                  class=\"fa-solid fa-pen-to-square\"></i><span class=\"tooltip\" id=\"editBookingTooltip\">Edit</span></button>\n              <button type=\"button\" class=\"bookingsEditDelBtn bookingsDelBtn\"><i\n                  class=\"fa-solid fa-rectangle-xmark\"></i><span class=\"tooltip\"\n                  id=\"delBookingTooltip\">Delete</span></button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"calFoot\">\n        <button type=\"submit\" id=\"finishBookingBtn2\" class=\"calBtn\">Finish Booking</button>\n        <button type=\"submit\" id=\"addDateBtn\" class=\"calBtn\">Add Another Date</button>\n      </div>\n    </div>\n</template>","<template>\n  <div class=\"calContainer\" id=\"bookings2\">\n      <div class=\"calHead\" id=\"bookingsHead\">\n        <h3 class=\"calTitle\" id=\"bookingsTitle\">Bookings</h3>\n      </div>\n      <div class=\"calMsgContainer\">\n        <div class=\"calMsg\">You selected <span class=\"calBadge\">4</span> dates.</div>\n      </div>\n      <div class=\"calListClip\">\n        <div id=\"bookingsList\">\n          <div>\n            <div class=\"bookingsGrid\">\n              <div class=\"bookingsLabel\">Place: </div>\n              <div class=\"bookingsPlace\">NCAS Auditorium</div>\n              <div class=\"bookingsLabel\">Date: </div>\n              <div class=\"bookingsDate\">Aug-7-2023 </div>\n              <div class=\"bookingsLabel\">Time: </div>\n              <div class=\"bookingsTime\">7:00AM - 12:00PM</div>\n            </div>\n            <div class=\"bookingsEditDel\">\n              <button type=\"button\" class=\"bookingsEditDelBtn bookingsEditBtn\"><i\n                  class=\"fa-solid fa-pen-to-square\"></i><span class=\"tooltip\" id=\"editBookingTooltip\">Edit</span></button>\n              <button type=\"button\" class=\"bookingsEditDelBtn bookingsDelBtn\"><i\n                  class=\"fa-solid fa-rectangle-xmark\"></i><span class=\"tooltip\"\n                  id=\"delBookingTooltip\">Delete</span></button>\n            </div>\n          </div>\n          <div>\n            <div class=\"bookingsGrid\">\n              <div class=\"bookingsLabel\">Place: </div>\n              <div class=\"bookingsPlace\">NCAS Auditorium</div>\n              <div class=\"bookingsLabel\">Date: </div>\n              <div class=\"bookingsDate\">Aug-8-2023 </div>\n              <div class=\"bookingsLabel\">Time: </div>\n              <div class=\"bookingsTime\">7:00AM - 12:00PM</div>\n            </div>\n            <div class=\"bookingsEditDel\">\n              <button type=\"button\" class=\"bookingsEditDelBtn bookingsEditBtn\"><i\n                  class=\"fa-solid fa-pen-to-square\"></i><span class=\"tooltip\" id=\"editBookingTooltip\">Edit</span></button>\n              <button type=\"button\" class=\"bookingsEditDelBtn bookingsDelBtn\"><i\n                  class=\"fa-solid fa-rectangle-xmark\"></i><span class=\"tooltip\"\n                  id=\"delBookingTooltip\">Delete</span></button>\n            </div>\n          </div>\n          <div>\n            <div class=\"bookingsGrid\">\n              <div class=\"bookingsLabel\">Place: </div>\n              <div class=\"bookingsPlace\">NCAS Auditorium</div>\n              <div class=\"bookingsLabel\">Date: </div>\n              <div class=\"bookingsDate\">Aug-9-2023 </div>\n              <div class=\"bookingsLabel\">Time: </div>\n              <div class=\"bookingsTime\">7:00AM - 12:00PM</div>\n            </div>\n            <div class=\"bookingsEditDel\">\n              <button type=\"button\" class=\"bookingsEditDelBtn bookingsEditBtn\"><i\n                  class=\"fa-solid fa-pen-to-square\"></i><span class=\"tooltip\" id=\"editBookingTooltip\">Edit</span></button>\n              <button type=\"button\" class=\"bookingsEditDelBtn bookingsDelBtn\"><i\n                  class=\"fa-solid fa-rectangle-xmark\"></i><span class=\"tooltip\"\n                  id=\"delBookingTooltip\">Delete</span></button>\n            </div>\n          </div>\n          <div>\n            <div class=\"bookingsGrid\">\n              <div class=\"bookingsLabel\">Place: </div>\n            <div class=\"bookingsPlace\">NCAS Auditorium</div>\n            <div class=\"bookingsLabel\">Date: </div>\n            <div class=\"bookingsDate\">Aug-10-2023 </div>\n            <div class=\"bookingsLabel\">Time: </div>\n            <div class=\"bookingsTime\">7:00AM - 12:00PM</div>\n          </div>\n          <div class=\"bookingsEditDel\">\n            <button type=\"button\" class=\"bookingsEditDelBtn bookingsEditBtn\"><i\n                class=\"fa-solid fa-pen-to-square\"></i><span class=\"tooltip\" id=\"editBookingTooltip\">Edit</span></button>\n            <button type=\"button\" class=\"bookingsEditDelBtn bookingsDelBtn\"><i\n                class=\"fa-solid fa-rectangle-xmark\"></i><span class=\"tooltip\"\n                id=\"delBookingTooltip\">Delete</span></button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"calFoot\">\n      <button type=\"submit\" id=\"finishBookingBtn\" class=\"calBtn\">Finish Booking</button>\n    </div>\n  </div>\n</template>","<template>\n  <div>\n    <div class=\"container-fluid\" id=\"spaceHeader\">\n      <div class=\"container-lg\" id=\"spaceHeaderContent\">\n        <div class=\"row\">\n          <div class=\"col-md-7 col-lg-8 p-0\" id=\"spaceHeaderLeftCol\">\n            <FacilityBreadcrumbs />\n            <h3 class=\"spacesTitle\">{{ facilityStore.facility.name }}</h3>\n          </div>\n          <FacilityRateAvailability />\n        </div>\n      </div>\n    </div>\n    <div class=\"container-fluid\" id=\"spaceBody\">\n      <div class=\"container-lg\" id=\"spaceBodyContent\">\n        <div class=\"row\">\n          <div class=\"col-lg-8 p-0 order-last  order-lg-first\" id=\"spaceBodyLeftCol\">\n            <div id=\"spaceBodyLeftColContent\">\n              <FacilityImageCarousel />\n              <FacilityDetails />\n            </div>\n          </div>\n          <div class=\"col-lg-4 p-0\" id=\"spaceBodyRightCol\">\n            <FacilityBookingPageBookNow />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nconst route = useRoute();\nconst facilityStore = useFacilityStore();\nconst facilityTypeStore = useFacilityTypeStore();\n\nawait facilityStore.fetchFacility(route.params.id)\nawait facilityTypeStore.fetchFacilityType(facilityStore.facility.facility_type_id);\n\n\ndefinePageMeta({\n  layout: \"facility\",\n\n});\n\nuseHead({\n  //script: { src: \"/js/calendar.js\", body: true },\n});\n</script>"],"names":["_ssrRenderAttrs","_mergeProps","_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,UAAM,gBAAgB,iBAAgB;AACtC,UAAM,WAAW,IAAI,KAAK,aAAa,OAAO;AAE9C,UAAM,WAAW,cAAc;AAC/B,UAAM,OAAO,cAAc;;;;;;;;;;;;;;;;;;;;ACN3B,UAAM,gBAAgB,iBAAgB;AACtC,UAAM,SAAS,eAAe,YAAY,cAAc,SAAS,IAAI,cAAc,SAAS,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;ACvB7F,SAAS,oBAAoB,KAAK,KAAK;AAClD,MAAI,OAAO;AAAM,WAAO,OAAO,MAAM;AAAA,WAC5B,OAAO;AAAM,WAAO,OAAO,MAAM;AAAA;AACrC,WAAO,MAAM,QAAQ,MAAM;AACpC;;;;;AC2BA,UAAM,gBAAgB,iBAAgB;AACtC,UAAM,WAAW,cAAc;AAC/B,UAAM,WAAW,IAAI,KAAK,aAAa,OAAO;AAE9C,UAAM,QAAQ,cAAc;;;;;;;;;;;;;;;;;;;;;ACnCb,SAAS,iBAAiB,MAAM;AAC3C,QAAM,QAAQ,CAAA;AACd,QAAM,MAAM,KAAK,MAAM,GAAG;AAE1B,MAAI,IAAI,UAAU;AAAG,WAAO;AAE5B,QAAM,QAAQ,IAAI,CAAC,EAAE,KAAI;AACzB,QAAM,MAAM,IAAI,CAAC,EAAE,KAAI;AAGvB,MAAI,WAAW,MAAM,MAAM,GAAG,EAAE,CAAC;AACjC,MAAI,YAAY,MAAM,MAAM,GAAG,EAAE,CAAC,EAAE,QAAQ,MAAM,EAAE,EAAE,QAAQ,MAAM,EAAE;AACtE,MAAI,MAAM,cAAc,SAAS,IAAI;AACjC,eAAW,KAAK,OAAO,QAAQ;AAEnC,MAAI,SAAS,IAAI,MAAM,GAAG,EAAE,CAAC;AAC7B,MAAI,UAAU,IAAI,MAAM,GAAG,EAAE,CAAC,EAAE,QAAQ,MAAM,EAAE,EAAE,QAAQ,MAAM,EAAE;AAClE,MAAI,IAAI,cAAc,SAAS,IAAI;AAC/B,aAAS,KAAK,OAAO,MAAM;AAE/B,MAAI,WAAW;AAAQ,WAAO;AAE9B,WAAS,IAAI,UAAU,IAAI,QAAQ,KAAK;AACpC,QAAI,WAAY,KAAK,KAAM,YAAa,IAAI,KAAM,IAAE,KAAI,MAAK,YAAU,OAAO,IAAE,MAAI,YAAU;AAC9F,QAAI,IAAI,OAAO,CAAC,IAAE;AAClB,QAAI,WAAY,KAAK,KAAM,YAAa,IAAI,KAAM,IAAE,KAAI,MAAK,UAAQ,OAAQ,OAAO,CAAC,IAAE,IAAG,MAAI,UAAQ;AACtG,QAAI,YAAY,WAAW,QAAQ;AACnC,UAAM,KAAK,SAAS;AAAA,EACvB;AAED,SAAO;AACX;;;;;ACIc,aAAW;AACzB,UAAM,gBAAgB,iBAAgB;AAEtC,UAAM,QAAQ,iBAAiB,cAAc,SAAS,aAAa;;;;;;;;;;;;;;;;;;;;;;;ACrC1D,QAAA,OAA2BA,eAAAC,WAAA;AAAA,IAAC,OAAa;AAAA,IAAC,IAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA5C,QAAA,OAAoBD,eAAAC,WAAA;AAAA,IAAC,OAAc;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+B1C,UAAM,QAAQ,SAAQ;AACtB,UAAM,gBAAgB,iBAAgB;AACtC,UAAM,oBAAoB,qBAAoB;AAE9C,IAAM,CAAA,QAAA,SAAA,IAAAC,iBAAA,MAAA,cAAc,cAAc,MAAM,OAAO,EAAE,CAAA;AACjD,IAAM,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,kBAAkB,kBAAkB,cAAc,SAAS,gBAAgB,CAAA;AAQjF,YAAQ;AAAA;AAAA,IAER,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;"}