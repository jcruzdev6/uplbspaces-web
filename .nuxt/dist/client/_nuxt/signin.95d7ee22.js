import{c as w,a as c,F as m,b as S,_ as y,d as F,e as x}from"./index.esm.162ec985.js";import{k as E,l as u,m as C,c as k,b as e,w as B,g as a,n as q,q as _,o as N,a as s,t as i,s as g,d as h}from"./entry.652436a6.js";const I={id:"pageSignin",tabindex:"-1"},M={class:"modal-dialog modal-dialog-centered"},T={class:"modal-content"},L={type:"button",class:"toggleBtnDark ms-auto mt-2 me-2","data-bs-dismiss":"modal","aria-label":"Close"},P={class:"modalContainer"},V=s("div",{class:"modalTitleContainer"},[s("h3",{class:"modalTitle",id:"modalSigninLabel"},"Sign In")],-1),$={class:"msgError"},A=s("label",{for:"modalSigninForm-username"},"Enter your email",-1),D={class:"msgError"},z=s("label",{for:"modalSigninForm-password"},"Enter your password",-1),G={class:"msgError"},X=s("div",{class:"d-flex"},[s("a",{href:"#","data-bs-target":"#modalForgot","data-bs-toggle":"modal",class:"ms-auto my-1"},"Forgot Password?")],-1),j=s("div",{class:"d-grid"},[s("button",{type:"submit",class:"btn btn-success btn-sm mt-2 mb-2 rounded"},"Sign In ")],-1),H=s("a",{href:"#modalSignup","data-bs-target":"#modalSignup","data-bs-toggle":"modal"},"Not yet a member? Sign up",-1),J=s("div",{class:"my-3"},[s("strong",null,"or")],-1),K=s("div",{class:"d-grid"},[s("button",{type:"button",class:"socialBtn"},[s("div",null,[s("img",{src:y,width:"30",height:"30",class:"me-3"}),h("Continue with Facebook")])]),s("button",{type:"button",class:"socialBtn"},[s("div",null,[s("img",{src:F,width:"27",height:"27",class:"me-3"}),h("Continue with Google")])])],-1),U={__name:"signin",setup(O){const{$bootstrap:p}=q(),n=E(),l=u(""),b=w().shape({email:c().required("Email is required").email("Email is invalid"),password:c().min(8,"Password must be at least 8 characters").required("Password is required")}),d=u(null);C(()=>{d.value=new p.Modal("#modalSignin")});const v=async r=>{if(n.isLoggedIn)return _("/");const{data:f,error:o}=await n.signin(r);o.value?l.value=o.value.data.message:(console.log("login successful"),d.hide(),_("/"))};return(r,f)=>{const o=x;return N(),k("div",I,[e(a(S),{onSubmit:v,"validation-schema":a(b)},{default:B(({errors:t})=>[s("div",M,[s("div",T,[s("button",L,[e(o)]),s("div",P,[V,s("div",$,i(a(l)),1),A,e(a(m),{name:"email",type:"email",id:"modalSigninForm-username",class:g([{"is-invalid":t.email},"form-control form-control-sm rounded"]),placeholder:"email"},null,8,["class"]),s("div",D,i(t.email),1),z,e(a(m),{name:"password",type:"password",id:"modalSigninForm-password",class:g([{"is-invalid":t.email},"form-control form-control-sm rounded"]),placeholder:"password"},null,8,["class"]),s("div",G,i(t.password),1),X,j,H,J,K])])])]),_:1},8,["validation-schema"])])}}};export{U as default};
