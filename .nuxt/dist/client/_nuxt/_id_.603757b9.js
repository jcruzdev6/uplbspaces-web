import{u as w,_ as Q,a as X}from"./nuxt-img.fa345b65.js";import{o as r,c as u,a as t,J as S,t as p,u as o,bv as h,bm as y,F as L,e as P,aq as Z,b as g,d as A,bC as J,_ as H,az as tt,bt as W,bE as st}from"./entry.40a6eb38.js";import{u as it}from"./useFetchImages.9b9ddee3.js";import{u as ot}from"./FacilityTypeStore.25e2654d.js";import"./nuxt-link.18fb6253.js";import"./CaretRight.3493eb81.js";import"./composables.4c78a47c.js";const et={class:"col-md-5 col-lg-4 p-0",id:"spaceHeaderRightCol"},at={class:"stripedTable"},nt=t("div",{class:"row1 label"},"U.P. Rate: ",-1),lt={class:"row1 value"},ct={class:"spacesTitleRatesText"},dt=t("div",{class:"row2 label"},"Non-U.P. Rate: ",-1),rt={class:"row2 value"},ut={class:"spacesTitleRatesText"},vt=t("div",{class:"row1 label"},"Availability:",-1),_t={class:"row1 value"},pt={__name:"RateAvailability",setup(a){const i=w(),s=new Intl.NumberFormat("en-US"),d=i.facility,e=i.rate;return(l,_)=>(r(),u("div",et,[t("div",at,[nt,t("div",lt,[t("div",ct,[S(" ₱"+p(o(s).format(o(e).up_rate)+" per "+o(e).type),1),h(t("small",null," (with aircon)",512),[[y,o(e).with_aircon]]),h(t("small",null," (w/o aircon)",512),[[y,!o(e).with_aircon]])])]),dt,t("div",rt,[t("div",ut,[S(" ₱"+p(o(s).format(o(e).nonup_rate)+" per "+o(e).type),1),h(t("small",null," (with aircon)",512),[[y,o(e).with_aircon]]),h(t("small",null," (w/o aircon)",512),[[y,!o(e).with_aircon]])])]),vt,t("div",_t,p(o(d).available_days_grp+", "+o(d).available_hrs),1)])]))}},bt=pt,gt={id:"carouselExample",class:"carousel slide"},mt={class:"carousel-inner"},kt={id:"spaceImgContainer"},ht=A('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2),yt={__name:"ImageCarousel",setup(a){const i=w(),s=it("facility",i.facility.id,i.facility.facility_type_id);return(d,e)=>{const l=Q;return r(),u("div",gt,[t("div",mt,[(r(!0),u(L,null,P(o(s),(_,n)=>(r(),u("div",{key:n,class:Z([n==0?"active":"","carousel-item"])},[t("div",kt,[g(l,{src:_},null,8,["src"])])],2))),128))]),ht])}}},ft=yt;function Bt(a,i){return i==null?"> "+a+" pax":a==null?"< "+i+" pax":a+" - "+i+" pax"}const Dt={id:"spaceDetails"},Tt={class:"spacesTileTable"},$t=t("div",{class:"row2 label"},"Address:",-1),Ct={class:"row2"},wt=t("div",{class:"row1 label"},"Capacity:",-1),At={class:"row1"},Et=t("div",{class:"row2 label"},"Availability:",-1),xt={class:"row2"},Mt=t("div",{class:"row1 label"},"U.P. Rate:",-1),St={class:"row1"},Lt=t("div",{class:"row2 label"},"Non-U.P. Rate:",-1),Pt={class:"row2"},Ft={__name:"Details",setup(a){const i=w(),s=i.facility,d=new Intl.NumberFormat("en-US"),e=i.rates;return(l,_)=>(r(),u("div",Dt,[t("div",Tt,[$t,t("div",Ct,p(o(s).address),1),wt,t("div",At,p(("useFacilityCapacity"in l?l.useFacilityCapacity:o(Bt))(o(s).min_capacity,o(s).max_capacity)),1),Et,t("div",xt,p(o(s).available_days_grp+", "+o(s).available_hrs),1),Mt,t("div",St,[(r(!0),u(L,null,P(o(e),n=>(r(),u("span",null,[t("div",null,[S(" ₱"+p(o(d).format(n.up_rate)+" per "+n.type),1),h(t("small",null," (with aircon)",512),[[y,n.with_aircon]]),h(t("small",null," (w/o aircon)",512),[[y,!n.with_aircon]])])]))),256))]),Lt,t("div",Pt,[(r(!0),u(L,null,P(o(e),n=>(r(),u("span",null,[t("div",null,[S(" ₱"+p(o(d).format(n.nonup_rate)+" per "+n.type),1),h(t("small",null," (with aircon)",512),[[y,n.with_aircon]]),h(t("small",null," (w/o aircon)",512),[[y,!n.with_aircon]])])]))),256))])]),t("p",null,p(o(s).description),1)]))}},qt=Ft;function Nt(a){const i=[],s=a.split("-");if(s.length!=2)return i;const d=s[0].trim(),e=s[1].trim();let l=d.split(":")[0],_=d.split(":")[1].replace("AM","").replace("PM","");d.toLowerCase().includes("pm")&&(l=12+Number(l));let n=e.split(":")[0],D=e.split(":")[1].replace("AM","").replace("PM","");if(e.toLowerCase().includes("pm")&&(n=12+Number(n)),l>n)return i;for(let v=l;v<n;v++){let m=v==12?"12:00PM":v>12?v-12+":"+_+"PM":v+":"+_+"AM",k=Number(v)+1,C=k==12?"12:00PM":k>12?k-12+":"+D+"PM":Number(v)+1+":"+D+"AM",F=m+" - "+C;i.push(F)}return i}const Ht={class:"calContainer",id:"timeslots","data-status":"hide"},It=A('<div class="calHead" id="timeslotsHead"><div id="timeslotsDate"><div id="timeslotsMonth">mmm</div><div id="timeslotsDay">dd</div><div id="timeslotsYear">yyy</div></div><h3 class="calTitle" id="timeslotsTitle">Available Timeslots</h3><button type="button" id="closeTimeslotsBtn" class="closeCalContainerBtn"><i class="fa-solid fa-xmark"></i></button></div><div class="calMsgContainer"><div class="calMsg" id="timeslotsMsg">Click on the time to select.</div></div>',2),Rt={class:"calListClip"},Gt={id:"timeslotsList"},Yt={id:"selectTimeList"},Ot=["id","value"],Ut={for:"selectTime-time1"},Vt=t("span",{class:"selectTimeItemCheck"},[t("i",{class:"fa-solid fa-check"})],-1),Wt=t("div",{class:"calFoot"},[t("button",{type:"submit",id:"continueBookingBtn",class:"calBtn"},"Continue Booking")],-1),Jt={__name:"TimeSelector",setup(a){J();const i=w(),s=Nt(i.facility.available_hrs);return(d,e)=>(r(),u("div",Ht,[It,t("div",Rt,[t("div",Gt,[t("form",Yt,[(r(!0),u(L,null,P(o(s),(l,_)=>(r(),u("div",{key:_,class:"selectTimeItem"},[t("input",{type:"checkbox",id:"selectTime-time"+_,value:l},null,8,Ot),t("label",Ut,p(l),1),Vt]))),128))])])]),Wt]))}},zt=Jt,jt={},Kt={class:"calContainer border",id:"bookings","data-status":"hide"},Qt=A('<div class="calHead" id="bookingsHead"><h3 class="calTitle" id="bookingsTitle">Bookings</h3><button type="button" id="closeBookingsBtn" class="closeCalContainerBtn"><i class="fa-solid fa-xmark"></i></button></div><div class="calMsgContainer"><div class="calMsg">You selected <span class="calBadge">4</span> dates.</div></div><div class="calListClip"><div id="bookingsList"><div><div class="bookingsGrid"><div class="bookingsLabel">Place: </div><div class="bookingsPlace">NCAS Auditorium</div><div class="bookingsLabel">Date: </div><div class="bookingsDate">Aug-7-2023 </div><div class="bookingsLabel">Time: </div><div class="bookingsTime">7:00AM - 12:00PM</div></div><div class="bookingsEditDel"><button type="button" class="bookingsEditDelBtn bookingsEditBtn"><i class="fa-solid fa-pen-to-square"></i><span class="tooltip" id="editBookingTooltip">Edit</span></button><button type="button" class="bookingsEditDelBtn bookingsDelBtn"><i class="fa-solid fa-rectangle-xmark"></i><span class="tooltip" id="delBookingTooltip">Delete</span></button></div></div><div><div class="bookingsGrid"><div class="bookingsLabel">Place: </div><div class="bookingsPlace">NCAS Auditorium</div><div class="bookingsLabel">Date: </div><div class="bookingsDate">Aug-8-2023 </div><div class="bookingsLabel">Time: </div><div class="bookingsTime">7:00AM - 12:00PM</div></div><div class="bookingsEditDel"><button type="button" class="bookingsEditDelBtn bookingsEditBtn"><i class="fa-solid fa-pen-to-square"></i><span class="tooltip" id="editBookingTooltip">Edit</span></button><button type="button" class="bookingsEditDelBtn bookingsDelBtn"><i class="fa-solid fa-rectangle-xmark"></i><span class="tooltip" id="delBookingTooltip">Delete</span></button></div></div><div><div class="bookingsGrid"><div class="bookingsLabel">Place: </div><div class="bookingsPlace">NCAS Auditorium</div><div class="bookingsLabel">Date: </div><div class="bookingsDate">Aug-9-2023 </div><div class="bookingsLabel">Time: </div><div class="bookingsTime">7:00AM - 12:00PM</div></div><div class="bookingsEditDel"><button type="button" class="bookingsEditDelBtn bookingsEditBtn"><i class="fa-solid fa-pen-to-square"></i><span class="tooltip" id="editBookingTooltip">Edit</span></button><button type="button" class="bookingsEditDelBtn bookingsDelBtn"><i class="fa-solid fa-rectangle-xmark"></i><span class="tooltip" id="delBookingTooltip">Delete</span></button></div></div><div><div class="bookingsGrid"><div class="bookingsLabel">Place: </div><div class="bookingsPlace">NCAS Auditorium</div><div class="bookingsLabel">Date: </div><div class="bookingsDate">Aug-10-2023 </div><div class="bookingsLabel">Time: </div><div class="bookingsTime">7:00AM - 12:00PM</div></div><div class="bookingsEditDel"><button type="button" class="bookingsEditDelBtn bookingsEditBtn"><i class="fa-solid fa-pen-to-square"></i><span class="tooltip" id="editBookingTooltip">Edit</span></button><button type="button" class="bookingsEditDelBtn bookingsDelBtn"><i class="fa-solid fa-rectangle-xmark"></i><span class="tooltip" id="delBookingTooltip">Delete</span></button></div></div></div></div><div class="calFoot"><button type="submit" id="finishBookingBtn2" class="calBtn">Finish Booking</button><button type="submit" id="addDateBtn" class="calBtn">Add Another Date</button></div>',4),Xt=[Qt];function Zt(a,i){return r(),u("div",Kt,Xt)}const ts=H(jt,[["render",Zt]]);function ss(){tt(()=>{let a=new Date,i=a.getFullYear(),s=a.getMonth();const d=document.querySelector("#closeTimeslotsBtn"),e=document.querySelector("#closeBookingsBtn"),l=document.querySelector("#continueBookingBtn"),_=document.querySelector("#finishBookingBtn"),n=document.querySelector("#finishBookingBtn2"),D=document.querySelector("#addDateBtn"),v=document.querySelector("#timeslots"),m=document.querySelector("#bookings"),k=document.querySelector("#bookings2"),C=document.querySelector("#calendarDays"),F=document.querySelector("#calendarWeeks"),z=document.querySelector("#calendarTitle"),j=document.querySelectorAll("#calendarHead span.calendarPrevNext"),f=new Array,I=["January","February","March","April","May","June","July","August","September","October","November","December"],q=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],R=["Aug-4-2023","Aug-7-2023","Aug-21-2023","Aug-28-2023","Aug-31-2023"],G=["Aug-11-2023","Aug-17-2023","Aug-10-2023","Aug-14-2023","Aug-24-2023","Aug-25-2023"],Y=()=>{f.length=0;let B=new Date(i,s,1).getDay(),E=new Date(i,s+1,0).getDate(),N=new Date(i,s,E).getDay(),T="",x="";for(let c=B;c>0;c--)T+="<div></div>";for(let c=1;c<=E;c++){let K=c===a.getDate()&&s===new Date().getMonth()&&i===new Date().getFullYear()?" active":"",U=new Date(i,s,c).getDay(),$=`${I[s].substring(0,3)}-${c}-${i}`,M="vacant";if(f.push(`#${$}`),q[U]=="Sunday"||q[U]=="Saturday"){M="closed";let b=f.indexOf(`#${$}`);b>-1&&f.splice(b,1)}for(let b=0;b<G.length;b++)if(G[b]==$){M="full";let V=f.indexOf(`#${$}`);V>-1&&f.splice(V,1);break}for(let b=0;b<R.length;b++)if(R[b]==$){M="partial";break}T+=`<div class="${M}${K}" id="${$}">${c}</div>`}for(let c=N;c<6;c++)T+="<div></div>";q.forEach(c=>{x+=`<div>${c.substring(0,3)}</div>`}),z.innerText=`${I[s]} ${i}`,F.innerHTML=x,C.innerHTML=T},O=()=>{f.forEach(B=>document.querySelector(B).addEventListener("click",function(){let E=document.querySelector("#timeslots");E.dataset.status="show";let N=document.querySelector("#timeslotsMonth"),T=document.querySelector("#timeslotsDay"),x=document.querySelector("#timeslotsYear"),c=B.split("-");N.innerText=c[0].replace("#",""),T.innerText=c[1],x.innerText=c[2]}))};Y(),O(),j.forEach(B=>{B.addEventListener("click",()=>{s=B.id==="prevMonth"?s-1:s+1,s<0||s>11?(a=new Date(i,s,new Date().getDate()),i=a.getFullYear(),s=a.getMonth()):a=new Date,Y(),O()})}),d.addEventListener("click",()=>{v.dataset.status="hide"}),e.addEventListener("click",()=>{m.dataset.status="hide"}),l.addEventListener("click",()=>{v.dataset.status="hide",k.style.display="block"}),_.addEventListener("click",()=>{alert("confirmation"),m.dataset.status="hide"}),n.addEventListener("click",()=>{m.dataset.status="hide",alert("confirmation")}),D.addEventListener("click",()=>{m.dataset.status="hide",k.style.display="block"})})}const is={class:"calContainer",id:"calendar"},os=A('<div class="calHead" id="calendarHead"><span class="calendarPrevNext" id="prevMonth"><i class="arrow left"></i></span><h3 class="calTitle" id="calendarTitle"></h3><span class="calendarPrevNext" id="nextMonth"><i class="arrow right"></i></span></div><div class="calMsgContainer"><div class="calMsg">Click on the date you want to book.</div></div><div class="calGrid" id="calendarWeeks"></div><div class="calGrid" id="calendarDays"></div><div class="calFoot"><div id="legend"><div><i class="fa-regular fa-square"></i> Vacant</div><div><i class="fa-solid fa-square partial"></i> Partially Booked</div><div><i class="fa-solid fa-square full"></i> Fully Booked</div></div></div>',5),es=[os],as={__name:"Calendar",setup(a){return ss(),(i,s)=>(r(),u("div",is,es))}},ns=as,ls={},cs={class:"calContainer",id:"bookings2"},ds=A('<div class="calHead" id="bookingsHead"><h3 class="calTitle" id="bookingsTitle">Bookings</h3></div><div class="calMsgContainer"><div class="calMsg">You selected <span class="calBadge">4</span> dates.</div></div><div class="calListClip"><div id="bookingsList"><div><div class="bookingsGrid"><div class="bookingsLabel">Place: </div><div class="bookingsPlace">NCAS Auditorium</div><div class="bookingsLabel">Date: </div><div class="bookingsDate">Aug-7-2023 </div><div class="bookingsLabel">Time: </div><div class="bookingsTime">7:00AM - 12:00PM</div></div><div class="bookingsEditDel"><button type="button" class="bookingsEditDelBtn bookingsEditBtn"><i class="fa-solid fa-pen-to-square"></i><span class="tooltip" id="editBookingTooltip">Edit</span></button><button type="button" class="bookingsEditDelBtn bookingsDelBtn"><i class="fa-solid fa-rectangle-xmark"></i><span class="tooltip" id="delBookingTooltip">Delete</span></button></div></div><div><div class="bookingsGrid"><div class="bookingsLabel">Place: </div><div class="bookingsPlace">NCAS Auditorium</div><div class="bookingsLabel">Date: </div><div class="bookingsDate">Aug-8-2023 </div><div class="bookingsLabel">Time: </div><div class="bookingsTime">7:00AM - 12:00PM</div></div><div class="bookingsEditDel"><button type="button" class="bookingsEditDelBtn bookingsEditBtn"><i class="fa-solid fa-pen-to-square"></i><span class="tooltip" id="editBookingTooltip">Edit</span></button><button type="button" class="bookingsEditDelBtn bookingsDelBtn"><i class="fa-solid fa-rectangle-xmark"></i><span class="tooltip" id="delBookingTooltip">Delete</span></button></div></div><div><div class="bookingsGrid"><div class="bookingsLabel">Place: </div><div class="bookingsPlace">NCAS Auditorium</div><div class="bookingsLabel">Date: </div><div class="bookingsDate">Aug-9-2023 </div><div class="bookingsLabel">Time: </div><div class="bookingsTime">7:00AM - 12:00PM</div></div><div class="bookingsEditDel"><button type="button" class="bookingsEditDelBtn bookingsEditBtn"><i class="fa-solid fa-pen-to-square"></i><span class="tooltip" id="editBookingTooltip">Edit</span></button><button type="button" class="bookingsEditDelBtn bookingsDelBtn"><i class="fa-solid fa-rectangle-xmark"></i><span class="tooltip" id="delBookingTooltip">Delete</span></button></div></div><div><div class="bookingsGrid"><div class="bookingsLabel">Place: </div><div class="bookingsPlace">NCAS Auditorium</div><div class="bookingsLabel">Date: </div><div class="bookingsDate">Aug-10-2023 </div><div class="bookingsLabel">Time: </div><div class="bookingsTime">7:00AM - 12:00PM</div></div><div class="bookingsEditDel"><button type="button" class="bookingsEditDelBtn bookingsEditBtn"><i class="fa-solid fa-pen-to-square"></i><span class="tooltip" id="editBookingTooltip">Edit</span></button><button type="button" class="bookingsEditDelBtn bookingsDelBtn"><i class="fa-solid fa-rectangle-xmark"></i><span class="tooltip" id="delBookingTooltip">Delete</span></button></div></div></div></div><div class="calFoot"><button type="submit" id="finishBookingBtn" class="calBtn">Finish Booking</button></div>',4),rs=[ds];function us(a,i){return r(),u("div",cs,rs)}const vs=H(ls,[["render",us]]),_s={},ps={id:"spaceBodyRightColContent"},bs=t("h4",{class:"spaceBodyRightColTitle"}," BOOK THIS SPACE ",-1),gs={id:"allCalContainers"};function ms(a,i){const s=zt,d=ts,e=ns,l=vs;return r(),u("div",ps,[bs,t("div",null,[t("div",gs,[g(s),g(d),g(e),g(l)])])])}const ks=H(_s,[["render",ms]]),hs={class:"container-fluid",id:"spaceHeader"},ys={class:"container-lg",id:"spaceHeaderContent"},fs={class:"row"},Bs={class:"col-md-7 col-lg-8 p-0",id:"spaceHeaderLeftCol"},Ds={class:"spacesTitle"},Ts={class:"container-fluid",id:"spaceBody"},$s={class:"container-lg",id:"spaceBodyContent"},Cs={class:"row"},ws={class:"col-lg-8 p-0 order-last order-lg-first",id:"spaceBodyLeftCol"},As={id:"spaceBodyLeftColContent"},Es={class:"col-lg-4 p-0",id:"spaceBodyRightCol"},Hs={__name:"[id]",async setup(a){let i,s;const d=J(),e=w(),l=ot();return[i,s]=W(()=>e.fetchFacility(d.params.id)),await i,s(),[i,s]=W(()=>l.fetchFacilityType(e.facility.facility_type_id)),await i,s(),st({}),(_,n)=>{const D=X,v=bt,m=ft,k=qt,C=ks;return r(),u("div",null,[t("div",hs,[t("div",ys,[t("div",fs,[t("div",Bs,[g(D),t("h3",Ds,p(o(e).facility.name),1)]),g(v)])])]),t("div",Ts,[t("div",$s,[t("div",Cs,[t("div",ws,[t("div",As,[g(m),g(k)])]),t("div",Es,[g(C)])])])])])}}};export{Hs as default};
