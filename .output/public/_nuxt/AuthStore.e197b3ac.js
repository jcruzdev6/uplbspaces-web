import{u as a}from"./useApiFetch.2f581416.js";import{bF as t,bD as n}from"./entry.40a6eb38.js";const i=t("auth",{state:()=>({user:null}),getters:{isLoggedIn(o){return o.user!=null}},actions:{async logout(){await a("/api/auth/signout",{method:"POST"}),this.user=null,n("/")},async fetchUser(){console.log("fetchUser called");const{data:o,error:e}=await a("/api/user");console.log("data:"),console.log(o.value),console.log("error:"),console.log(e.value),o.value&&(this.user=o.value)},async signin(o){await a("/sanctum/csrf-cookie");const{data:e,error:s}=await a("/api/auth/signin",{method:"POST",body:o});return console.log("signin called"),console.log("data:"),console.log(e.value),console.log("error:"),console.log(s.value),await this.fetchUser(),{data:e,error:s}},async signup(o){await a("/sanctum/csrf-cookie");const e=await a("/auth/signup",{method:"POST",body:o});return await this.fetchUser(),e}}});export{i as u};
