import{bG as W,bH as E,bI as w,bJ as H,bK as j,bL as y,bM as R,bA as A,bB as L}from"./entry.40a6eb38.js";async function U(t,e){return await D(e).catch(i=>(console.error("Failed to get image meta for "+e,i+""),{width:0,height:0,ratio:0}))}async function D(t){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((e,r)=>{const i=new Image;i.onload=()=>{const n={width:i.width,height:i.height,ratio:i.width/i.height};e(n)},i.onerror=n=>r(n),i.src=t})}function I(t){return e=>e?t[e]||e:t.missingValue}function F({formatter:t,keyMap:e,joinWith:r="/",valueMap:i}={}){t||(t=(s,o)=>`${s}=${o}`),e&&typeof e!="function"&&(e=I(e));const n=i||{};return Object.keys(n).forEach(s=>{typeof n[s]!="function"&&(n[s]=I(n[s]))}),(s={})=>Object.entries(s).filter(([a,c])=>typeof c<"u").map(([a,c])=>{const f=n[a];return typeof f=="function"&&(c=f(s[a])),a=typeof e=="function"?e(a):a,t(a,c)}).join(r)}function p(t=""){if(typeof t=="number")return t;if(typeof t=="string"&&t.replace("px","").match(/^\d+$/g))return parseInt(t,10)}function G(t=""){if(t===void 0||!t.length)return[];const e=t.split(" ").map(r=>parseInt(r.replace("x","")));return e.filter((r,i)=>e.indexOf(r)===i)}function J(t){const e={};if(typeof t=="string")for(const r of t.split(/[\s,]+/).filter(i=>i)){const i=r.split(":");i.length!==2?e[i[0].trim()]=i[0].trim():e[i[0].trim()]=i[1].trim()}else Object.assign(e,t);return e}function N(t){const e={options:t},r=(n,s={})=>z(e,n,s),i=(n,s={},o={})=>r(n,{...o,modifiers:j(s,o.modifiers||{})}).url;for(const n in t.presets)i[n]=(s,o,a)=>i(s,o,{...t.presets[n],...a});return i.options=t,i.getImage=r,i.getMeta=(n,s)=>T(e,n,s),i.getSizes=(n,s)=>C(e,n,s),e.$img=i,i}async function T(t,e,r){const i=z(t,e,{...r});return typeof i.getMeta=="function"?await i.getMeta():await U(t,i.url)}function z(t,e,r){var f,m;if(typeof e!="string"||e==="")throw new TypeError(`input must be a string (received ${typeof e}: ${JSON.stringify(e)})`);if(e.startsWith("data:"))return{url:e};const{provider:i,defaults:n}=q(t,r.provider||t.options.provider),s=B(t,r.preset);if(e=W(e)?e:E(e),!i.supportsAlias)for(const g in t.options.alias)e.startsWith(g)&&(e=w(t.options.alias[g],e.substr(g.length)));if(i.validateDomains&&W(e)){const g=H(e).host;if(!t.options.domains.find(l=>l===g))return{url:e}}const o=j(r,s,n);o.modifiers={...o.modifiers};const a=o.modifiers.format;(f=o.modifiers)!=null&&f.width&&(o.modifiers.width=p(o.modifiers.width)),(m=o.modifiers)!=null&&m.height&&(o.modifiers.height=p(o.modifiers.height));const c=i.getImage(e,o,t);return c.format=c.format||a||"",c}function q(t,e){const r=t.options.providers[e];if(!r)throw new Error("Unknown provider: "+e);return r}function B(t,e){if(!e)return{};if(!t.options.presets[e])throw new Error("Unknown preset: "+e);return t.options.presets[e]}function C(t,e,r){var b,x,_,v,$;const i=p((b=r.modifiers)==null?void 0:b.width),n=p((x=r.modifiers)==null?void 0:x.height),s=J(r.sizes),o=(_=r.densities)!=null&&_.trim()?G(r.densities.trim()):t.options.densities;if(o.length===0)throw new Error("'densities' must not be empty, configure to '1' to render regular size only (DPR 1.0)");const a=i&&n?n/i:0,c=[],f=[];if(Object.keys(s).length>1){for(const d in s){const h=M(d,String(s[d]),n,a,t);if(h!==void 0){c.push({size:h.size,screenMaxWidth:h.screenMaxWidth,media:`(max-width: ${h.screenMaxWidth}px)`});for(const u of o)f.push({width:h._cWidth*u,src:S(t,e,r,h,u)})}}X(c)}else for(const d of o){const h=Object.keys(s)[0];let u=M(h,String(s[h]),n,a,t);u===void 0&&(u={size:"",screenMaxWidth:0,_cWidth:(v=r.modifiers)==null?void 0:v.width,_cHeight:($=r.modifiers)==null?void 0:$.height}),f.push({width:d,src:S(t,e,r,u,d)})}Q(f);const m=f[f.length-1],g=c.length?c.map(d=>`${d.media?d.media+" ":""}${d.size}`).join(", "):void 0,l=g?"w":"x",P=f.map(d=>`${d.src} ${d.width}${l}`).join(", ");return{sizes:g,srcset:P,src:m==null?void 0:m.src}}function M(t,e,r,i,n){const s=n.options.screens&&n.options.screens[t]||parseInt(t),o=e.endsWith("vw");if(!o&&/^\d+$/.test(e)&&(e=e+"px"),!o&&!e.endsWith("px"))return;let a=parseInt(e);if(!s||!a)return;o&&(a=Math.round(a/100*s));const c=i?Math.round(a*i):r;return{size:e,screenMaxWidth:s,_cWidth:a,_cHeight:c}}function S(t,e,r,i,n){return t.$img(e,{...r.modifiers,width:i._cWidth?i._cWidth*n:void 0,height:i._cHeight?i._cHeight*n:void 0},r)}function X(t){t.sort((r,i)=>r.screenMaxWidth-i.screenMaxWidth),t[t.length-1]&&(t[t.length-1].media="");let e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.media===e&&t.splice(r,1),e=i.media}}function Q(t){t.sort((r,i)=>r.width-i.width);let e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.width===e&&t.splice(r,1),e=i.width}}const V=F({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(t,e)=>y(t)+"_"+y(e)}),Y=(t,{modifiers:e={},baseURL:r}={},i)=>{e.width&&e.height&&(e.resize=`${e.width}x${e.height}`,delete e.width,delete e.height);const n=V(e)||"_";return r||(r=w(i.options.nuxt.baseURL,"/_ipx")),{url:w(r,n,R(t))}},Z=!0,K=!0,k=Object.freeze(Object.defineProperty({__proto__:null,getImage:Y,supportsAlias:K,validateDomains:Z},Symbol.toStringTag,{value:"Module"})),O={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipx",domains:[],alias:{},densities:[1,2],format:["webp"]};O.providers={ipx:{provider:k,defaults:void 0}};const te=()=>{const t=A(),e=L();return e.$img||e._img||(e._img=N({...O,nuxt:{baseURL:t.app.baseURL}}))};export{p,te as u};
